/* components/molecules/StackLayout/StackLayout.css */
/* LAYOUT PATTERNS - Stack Layout con Patterns Inteligentes */

/* ===== BASE STACK LAYOUT ===== */
.stack-layout {
  /* Layout base */
  box-sizing: border-box;
  
  /* Performance optimizations */
  will-change: auto;
  contain: layout;
}

/* ===== PATTERN SPECIFIC STYLES ===== */

/* Stack básico - Ya manejado por JS inline styles */
.stack-layout--stack {
  /* Estilos adicionales si necesarios */
}

/* Hero patterns con efectos especiales */
.stack-layout--hero,
.stack-layout--heroCompact {
  position: relative;
  isolation: isolate;
}

.stack-layout--hero::before,
.stack-layout--heroCompact::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    135deg, 
    rgba(var(--color-primary-rgb), 0.05) 0%,
    rgba(var(--color-secondary-rgb), 0.02) 100%
  );
  border-radius: inherit;
  z-index: -1;
  pointer-events: none;
}

/* Card patterns con bordes automáticos */
.stack-layout--cardContent,
.stack-layout--cardHeader,
.stack-layout--cardFooter {
  position: relative;
}

.stack-layout--cardHeader {
  border-bottom: 1px solid var(--border-light);
}

.stack-layout--cardFooter {
  border-top: 1px solid var(--border-light);
}

/* Form patterns con focus states */
.stack-layout--formGroup {
  position: relative;
}

.stack-layout--formActions {
  margin-top: var(--spacing-lg);
  padding-top: var(--spacing-lg);
  border-top: 1px solid var(--border-light);
}

/* Page patterns con márgenes automáticos */
.stack-layout--pageContent {
  margin-left: auto;
  margin-right: auto;
  width: 100%;
}

.stack-layout--pageHeader {
  border-bottom: 1px solid var(--border-light);
}

.stack-layout--pageSection {
  position: relative;
}

/* Modal patterns con centrado automático */
.stack-layout--modalContent {
  margin: 0 auto;
  position: relative;
}

/* Sidebar patterns */
.stack-layout--sidebar {
  background: var(--surface-secondary);
  border-right: 1px solid var(--border-default);
  height: 100%;
  overflow-y: auto;
}

.stack-layout--sidebarNav {
  /* Navigation específica */
}

/* ===== ALIGNMENT MODIFIERS ===== */
.stack-layout--align-start {
  align-items: flex-start;
}

.stack-layout--align-center {
  align-items: center;
}

.stack-layout--align-end {
  align-items: flex-end;
}

.stack-layout--align-stretch {
  align-items: stretch;
}

/* ===== JUSTIFY MODIFIERS ===== */
.stack-layout--justify-start {
  justify-content: flex-start;
}

.stack-layout--justify-center {
  justify-content: center;
}

.stack-layout--justify-end {
  justify-content: flex-end;
}

.stack-layout--justify-between {
  justify-content: space-between;
}

.stack-layout--justify-around {
  justify-content: space-around;
}

.stack-layout--justify-evenly {
  justify-content: space-evenly;
}

/* ===== ESTADOS ===== */
.stack-layout--disabled {
  opacity: 0.6;
  pointer-events: none;
}

/* ===== RESPONSIVE ADAPTATIONS ===== */

/* Mobile optimizations */
@media (max-width: 640px) {
  .stack-layout--hero {
    padding: var(--spacing-xl) var(--spacing-lg);
    min-height: 50vh;
  }
  
  .stack-layout--heroCompact {
    padding: var(--spacing-lg);
    min-height: 40vh;
  }
  
  .stack-layout--cardContent {
    padding: var(--spacing-md);
  }
  
  .stack-layout--formActions {
    flex-direction: column;
    align-items: stretch;
  }
  
  .stack-layout--pageHeader {
    flex-direction: column;
    align-items: stretch;
    gap: var(--spacing-md);
  }
}

/* Tablet optimizations */
@media (min-width: 641px) and (max-width: 1024px) {
  .stack-layout--hero {
    padding: var(--spacing-3xl) var(--spacing-xl);
    min-height: 60vh;
  }
  
  .stack-layout--heroCompact {
    padding: var(--spacing-xl);
    min-height: 45vh;
  }
}

/* Desktop optimizations */
@media (min-width: 1025px) {
  .stack-layout--hero {
    padding: var(--spacing-4xl) var(--spacing-2xl);
    min-height: 60vh;
  }
  
  .stack-layout--heroCompact {
    padding: var(--spacing-2xl);
    min-height: 45vh;
  }
  
  .stack-layout--sidebar {
    min-width: 280px;
    width: 280px;
    flex-shrink: 0;
  }
}

/* ===== ACCESIBILIDAD ===== */

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .stack-layout,
  .stack-layout * {
    animation: none !important;
    transition: none !important;
  }
}

/* High contrast */
@media (prefers-contrast: high) {
  .stack-layout--cardHeader,
  .stack-layout--cardFooter,
  .stack-layout--formActions,
  .stack-layout--pageHeader {
    border-color: CanvasText;
    border-width: 2px;
  }
}

/* Focus management */
.stack-layout:focus-within {
  /* Mejora visual cuando contiene elementos enfocados */
}

/* ===== DEBUG UTILITIES (Solo desarrollo) ===== */
.stack-layout[data-debug="true"] {
  position: relative;
  outline: 1px dashed rgba(255, 0, 0, 0.3);
  background: rgba(255, 255, 0, 0.05);
}

.stack-layout[data-debug="true"]::after {
  content: 'Stack: ' attr(data-pattern) ' | Gap: ' attr(data-gap) ' | BP: ' attr(data-breakpoint);
  position: absolute;
  top: -1.5rem;
  left: 0;
  font-size: 1rem;
  color: red;
  background: yellow;
  padding: 0.2rem 0.4rem;
  border-radius: 0.2rem;
  font-family: monospace;
  z-index: 9999;
  white-space: nowrap;
  font-weight: normal;
}

/* Highlight children in debug mode */
.stack-layout[data-debug="true"] > * {
  outline: 1px solid rgba(0, 255, 0, 0.3);
  background: rgba(0, 255, 0, 0.02);
}

/* ===== PRINT STYLES ===== */
@media print {
  .stack-layout {
    break-inside: avoid;
    page-break-inside: avoid;
  }
  
  .stack-layout--hero::before,
  .stack-layout--heroCompact::before {
    display: none;
  }
}