/* ===== CARD COMPONENT - SISTEMA ESTÁNDAR ===== */
/* Card.css - 100% Compatible con Sistema de Diseño V2 */

/* ===== CONTENEDOR BASE ===== */
.card {
  /* Layout base */
  display: flex;
  flex-direction: column;
  position: relative;
  overflow: hidden;
  width: 100%;
  
  /* Estética base */
  background: var(--surface-card, #ffffff);
  border: 1px solid var(--border-default, rgba(0, 0, 0, 0.12));
  color: var(--text-primary, #1a1a1a);
  
  /* Tipografía base */
  font-family: var(--font-family-base, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif);
  
  /* Transiciones suaves */
  transition: all var(--transition-normal, 150ms ease);
  
  /* Box model */
  box-sizing: border-box;
}

/* ===== TAMAÑOS ESTÁNDAR ===== */
.card--xs {
  max-width: 12rem;   /* 192px */
  font-size: var(--font-size-sm, 0.875rem);
  padding: var(--spacing-2, 0.5rem);
}

.card--sm {
  max-width: 16rem;   /* 256px */
  font-size: var(--font-size-sm, 0.875rem);
  padding: var(--spacing-3, 0.75rem);
}

.card--md {
  max-width: 20rem;   /* 320px */
  font-size: var(--font-size-base, 1rem);
  padding: var(--spacing-4, 1rem);
}

.card--lg {
  max-width: 24rem;   /* 384px */
  font-size: var(--font-size-lg, 1.125rem);
  padding: var(--spacing-5, 1.25rem);
}

.card--xl {
  max-width: 28rem;   /* 448px */
  font-size: var(--font-size-xl, 1.25rem);
  padding: var(--spacing-6, 1.5rem);
}

/* ===== VARIANTES SEMÁNTICAS ESTÁNDAR ===== */
.card--primary {
  background: var(--color-primary-subtle, #f0f9ff);
  border-color: var(--color-primary, #3b82f6);
  color: var(--color-primary-text, #1e40af);
}

.card--secondary {
  background: var(--color-secondary-subtle, #f8fafc);
  border-color: var(--color-secondary, #64748b);
  color: var(--color-secondary-text, #475569);
}

.card--success {
  background: var(--color-success-subtle, #f0fdf4);
  border-color: var(--color-success, #22c55e);
  color: var(--color-success-text, #15803d);
}

.card--warning {
  background: var(--color-warning-subtle, #fffbeb);
  border-color: var(--color-warning, #f59e0b);
  color: var(--color-warning-text, #d97706);
}

.card--danger {
  background: var(--color-danger-subtle, #fef2f2);
  border-color: var(--color-danger, #ef4444);
  color: var(--color-danger-text, #dc2626);
}

.card--neutral {
  background: var(--surface-card, #ffffff);
  border-color: var(--border-default, rgba(0, 0, 0, 0.12));
  color: var(--text-primary, #1a1a1a);
}

/* ===== ESTADOS INTERACTIVOS ===== */
.card--clickable {
  cursor: pointer;
  outline: none;
}

.card--clickable:hover:not(.card--disabled):not(.card--loading) {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md, 0 10px 25px rgba(0, 0, 0, 0.15));
}

.card--clickable:focus:not(.card--disabled):not(.card--loading) {
  outline: 2px solid var(--color-primary-focus, #3b82f6);
  outline-offset: 2px;
}

.card--clickable:active:not(.card--disabled):not(.card--loading) {
  transform: translateY(0);
}

/* ===== ESTADO DISABLED ESTÁNDAR ===== */
.card--disabled {
  opacity: var(--opacity-disabled);
  cursor: not-allowed;
  pointer-events: none;
  transform: none !important;
}

/* ===== ESTADO LOADING ESTÁNDAR ===== */
.card--system-loading {
  cursor: progress;
  pointer-events: none;
  position: relative;
}

.card__system-loading-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
}

.card__system-loading-spinner {
  color: var(--color-primary);
  font-size: var(--font-size-xl);
  animation: universalCardSpinner 1s linear infinite;
}

@keyframes universalCardSpinner {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* ===== CONTENIDO ===== */
.card__content {
  display: flex;
  flex-direction: column;
  flex: 1;
  gap: var(--space-sm);
}

/* ===== SUB-COMPONENTES ===== */
.card__header {
  margin-bottom: var(--space-sm);
}

.card__body {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
}

.card__footer {
  margin-top: auto;
  padding-top: var(--space-sm);
  border-top: 1px solid var(--border-light);
}

.card__media {
  position: relative;
  overflow: hidden;
  border-radius: inherit;
  margin-bottom: var(--space-sm);
}

.card__media img {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.card__title {
  margin: 0;
  font-size: 1.125em;
  font-weight: 600;
  line-height: 1.4;
  color: var(--text-primary);
}

.card__subtitle {
  margin: 0;
  font-size: 0.9em;
  font-weight: 500;
  line-height: 1.4;
  color: var(--text-secondary, rgba(0, 0, 0, 0.7));
}

.card__description {
  margin: 0;
  font-size: 0.875em;
  line-height: 1.5;
  color: var(--text-secondary, rgba(0, 0, 0, 0.7));
}

/* ===== RESPONSIVE ===== */
@media (max-width: 768px) {
  .card {
    min-height: auto;
  }
  
  .card--size-xl,
  .card--size-lg {
    max-width: 100%;
    width: 100%;
  }
}

/* ===== REDUCED MOTION ===== */
@media (prefers-reduced-motion: reduce) {
  .card,
  .card__system-loading-spinner {
    animation: none !important;
    transition: none !important;
  }
  
  .card--clickable:hover {
    transform: none !important;
  }
}

/* ===== HIGH CONTRAST ===== */
@media (prefers-contrast: high) {
  .card {
    border: 2px solid var(--text-primary);
  }
  
  .card--variant-glass {
    backdrop-filter: none;
    background: var(--bg-default);
  }
}

/* ===== DARK MODE SUPPORT ===== */
@media (prefers-color-scheme: dark) {
  .card__system-loading-overlay {
    background: rgba(0, 0, 0, 0.8);
  }
}

/* ===== ROUNDED ESTÁNDAR ===== */
.card--rounded-sm {
  border-radius: var(--radius-sm, 0.25rem);
}

.card--rounded-md {
  border-radius: var(--radius-md, 0.375rem);
}

.card--rounded-lg {
  border-radius: var(--radius-lg, 0.5rem);
}

.card--rounded-xl {
  border-radius: var(--radius-xl, 0.75rem);
}

.card--rounded-full {
  border-radius: var(--radius-full, 9999px);
}

/* ===== ASPECT RATIO ===== */
.card--aspect-ratio {
  height: auto;
}

.card--aspect-square { aspect-ratio: 1/1; }
.card--aspect-portrait { aspect-ratio: 2/3; }
.card--aspect-landscape { aspect-ratio: 3/2; }
.card--aspect-wide { aspect-ratio: 16/9; }
.card--aspect-ultrawide { aspect-ratio: 21/9; }
.card--aspect-golden { aspect-ratio: 1.618/1; }
.card--aspect-card { aspect-ratio: 5/7; }
.card--aspect-mobile { aspect-ratio: 9/16; }
